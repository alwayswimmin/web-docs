<!DOCTYPE html>
<html>
	<head>
		<title>Form</title>
		<link rel="stylesheet" type="text/css" href="../../css/style.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	</head>
	<body onload="onStart()">
		<h2>Form</h2>
		<form name="form" autocomplete="on" action="" onsubmit="return validateForm()" method="post">
			<table>
				<tr>
					<td>Name:</td><td><input type="text" id="name" name='name' placeholder="Thomas Rudwick" required></input></td>
				</tr>
				<tr>
					<td>Email:</td><td><input type="email" id="email" name='email' placeholder="tmrudwick@fcps.edu" required></input></td>
				</tr>
				<tr>
					<td>City:</td><td><input type="text" id="city" name='city' placeholder="Alexandria" required></input></td>
				</tr>
				<tr>
					<td>State:</td>
					<td>
						<select name="state">
							<option value=""></option>
							<option value="AL">Alabama</option>
							<option value="AK">Alaska</option>
							<option value="AZ">Arizona</option>
							<option value="AR">Arkansas</option>
							<option value="CA">California</option>
							<option value="CO">Colorado</option>
							<option value="CT">Connecticut</option>
							<option value="DE">Delaware</option>
							<option value="DC">District Of Columbia</option>
							<option value="FL">Florida</option>
							<option value="GA">Georgia</option>
							<option value="HI">Hawaii</option>
							<option value="ID">Idaho</option>
							<option value="IL">Illinois</option>
							<option value="IN">Indiana</option>
							<option value="IA">Iowa</option>
							<option value="KS">Kansas</option>
							<option value="KY">Kentucky</option>
							<option value="LA">Louisiana</option>
							<option value="ME">Maine</option>
							<option value="MD">Maryland</option>
							<option value="MA">Massachusetts</option>
							<option value="MI">Michigan</option>
							<option value="MN">Minnesota</option>
							<option value="MS">Mississippi</option>
							<option value="MO">Missouri</option>
							<option value="MT">Montana</option>
							<option value="NE">Nebraska</option>
							<option value="NV">Nevada</option>
							<option value="NH">New Hampshire</option>
							<option value="NJ">New Jersey</option>
							<option value="NM">New Mexico</option>
							<option value="NY">New York</option>
							<option value="NC">North Carolina</option>
							<option value="ND">North Dakota</option>
							<option value="OH">Ohio</option>
							<option value="OK">Oklahoma</option>
							<option value="OR">Oregon</option>
							<option value="PA">Pennsylvania</option>
							<option value="RI">Rhode Island</option>
							<option value="SC">South Carolina</option>
							<option value="SD">South Dakota</option>
							<option value="TN">Tennessee</option>
							<option value="TX">Texas</option>
							<option value="UT">Utah</option>
							<option value="VA" selected="selected">Virginia</option>
							<option value="VT">Vermont</option>
							<option value="WA">Washington</option>
							<option value="WV">West Virginia</option>
							<option value="WI">Wisconsin</option>
							<option value="WY">Wyoming</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>Zip Code:</td><td><input type="text" id="zip" name='zip' placeholder="22312" required></input></td>
				</tr>
				<tr>
					<td>Date:</td><td><input type="date" id="date" name='date' required></input></td>
				</tr>
				<tr>
					<td>
					Foreign Language:
					<br>
					<input type='radio' name='listType' value='drop-down' checked="checked" onclick='upd()'>drop-down
					<br>
					<input type='radio' name='listType' value='list-view' onclick='upd()'>list-view
					</td>
					<td>
						<select id='language' name='language' onchange="upd()">
							<option value='' selected="selected"></option>
							<option value='ch'>Chinese</option>
							<option value='fr'>French</option>
							<option value='ge'>German</option>
							<option value='ja'>Japanese</option>
							<option value='la'>Latin</option>
							<option value='ru'>Russian</option>
							<option value='sp'>Spanish</option>
							<option value='other'>other...</option>
						</select>
						<br>
						<select id='teacher' name='teacher'>
							<option value='Chen'>Chen</option>
							<option value='Xu'>Xu</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>Additional Comments:</td>
					<td>
	 				   <textarea id='comments' name='comments' rows="5" cols="80" placeholder='Additional Comments (optional)'></textarea>
					<td>
				</tr>
				<tr>
					<td><input type="submit" value="Send"></input></td>
				</tr>
			</table>
		</form>

		<p><a href="../index.html">Web Development</a></p>
		<p><a href="../../index.html">Home</a></p>
<script>
var ch = ['Chen', 'Xu'];
var fr = ['Delfosse', 'van de Kamp Washington'];
var ge = ['Oszko'];
var ja = ['Otani'];
var la = ['Conklin', 'Lister'];
var ru = ['Sandstrom'];
var sp = ['Gendive', 'Mateo', 'Rayas Abundis', 'Pou'];
 
 function onStart() { 
  document.getElementById('date').valueAsDate = new Date();
 	document.getElementById("name").focus();
	upd();
	form["name"].value = getCookie("name");
	form["email"].value = getCookie("email");
	form["city"].value = getCookie("city");
	form["state"].value = getCookie("state");
	form["zip"].value = getCookie("zip");
	if(getCookie("date")) form["date"].value = getCookie("date");
	form["language"].value = getCookie("language");
	form["listType"].value = getCookie("listType");
	upd();
	form["teacher"].value = getCookie("teacher");
	form["comments"].value = getCookie("comments");
 }
function listType() {
	if(document.getElementsByName('listType')[0].checked == true){
		// dropdown
		document.getElementById('language').size = 1;
		if(document.getElementById('teacher').style.visibility == "visible")
			document.getElementById('teacher').size = 1;
	}
	else{
		// listview
		document.getElementById('language').size = document.getElementById('language').options.length;
		if(document.getElementById('teacher').style.visibility == "visible")
			document.getElementById('teacher').size = document.getElementById('teacher').options.length;
	}
}
function upd(){
	var teacher = document.getElementById('teacher');
	$("#teacher").empty();
	var tlist;
	switch(document.getElementById('language').options[document.getElementById('language')
			.selectedIndex].value){
		case 'ch':
			tlist = ch;
			break;
		case 'fr':
			tlist= fr;
			break;
		case 'ge':
			tlist= ge;
			break;
		case 'ja':
			tlist= ja;
			break;
		case 'la':
			tlist= la;
			break;
		case 'ru':
			tlist= ru;
			break;
		case 'sp':
			tlist= sp;
			break;
		default:
			teacher.style.visibility = "collapse";
			listType();
			return;
	}
	teacher.style.visibility = "visible";
	for (var i = 0; i < tlist.length; i++) {
		var option = document.createElement("option");
		option.text = tlist[i];
		option.value = tlist[i];
		teacher.appendChild(option);
	}
	var option = document.createElement("option");
	option.text = "other...";
	option.value = "other";
	teacher.appendChild(option);
	listType();
}
function validateForm() {
	// set cookies
	var form = document.forms["form"];
	setCookie("name", form["name"].value, 30);
	setCookie("email", form["email"].value, 30);
	setCookie("city", form["city"].value, 30);
	setCookie("state", form["state"].value, 30);
	setCookie("zip", form["zip"].value, 30);
	setCookie("date", form["date"].value, 30);
	setCookie("listType", form["listType"].value, 30);
	setCookie("language", form["language"].value, 30);
	setCookie("teacher", form["teacher"].value, 30);
	setCookie("comments", form["comments"].value, 30);
	
	// validate
	var name = form["name"].value;
	var email = form["email"].value;
	var city = form["city"].value;
	var zip = form["zip"].value;
	var validname = /[\w -'_]+/
	var validemail = //

	// alert
	alert("Thanks for participating!");
}
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
}

function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
}
</script>
	</body>
</html>
